# 概念解析

- **字符**：字符是文字和符号的总称；
- **字符集**：多个字符的集合，不同的字符集往往包含不同的字符，字符编码也不同；
- **字符编码**：一种映射规则，将字符映射为便于在计算机系统中存储传输的数据结构，通常每个字符集都有自己的编码规则，常见的编码规则有：UTF-8、GBK、Big5等等；
- **码点/码值/内码**：字符在字符编码中映射后的值，例如ASCII字符集中，‘A’的值为65。

# 发展历史

## ASCII字符集

该字符集规定了128(仅使用7 bits，首位为0)个字符的编码规则，实现了英语字符的映射。

为了表示其它语言，ASCII字符集进行拓展：前128个编码统一表示应为；后128个编码用于表示当地语言，该编码称为**EASCII**，由于欧洲国家、语言众多，该字符集产生了较多的子标准。

## Unicode字符集

为了表示更多的语言、文字，Unicode字符集出现，它的表示能力十分强大，目前可以通纳100多万的符号。

但是，**Unicode字符集只规定了字符对应的码值，并没有规定其在计算机中的存储形式**。相应的，**UTF系列**编码解决这一问题。

## UTF编码

最通用的UTF编码为：**UTF-8**，8-bit Unicode Transformation Format，8位Unicode字符转换格式。

UTF-8是一种可编程编码，使用1~4字节表示一个符号，可容纳$2^21$个字符。

编码规则：字节长度+字符二进制编码；使用$n-1个1+1个0$表示该字符的存储长度，其余位表示字符二进制编码，非首字节的前两位均为`10`。
- 单字节：0xxxxxxx;
- 两字节：10xxxxxx 10xxxxxx
- 三字节：110xxxxx 10xxxxxx 10xxxxxx
- 四字节：11101111 10xxxxxx 10xxxxxx 10xxxxxx

# 识别编码

面临如此多的不同编码方法，文本编辑器应该如何知道使用哪种编码读取文本文件呢？
- 1. 检测头文件表示(**BOM**)；
- 2. 根据文件二进制内容猜测当前编码；
- 3. 用户设置当前编码。

# 编码性质

## 定长/可变长

定长编码：使用固定长度的字节表示字符编码。
- 优点：处理速度快，简单易懂；
- 缺点：空间效率差，码值较小的字符存储可能有大量`0`

可变长编码：字符长度可随需求变化，使用特定的规则读取长度。
- 优点：空间效率高，灵活；
- 缺点：逻辑更复杂，处理效率低；